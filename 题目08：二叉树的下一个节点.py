# -*- codingï¼šutf-8 -*-
"""
åç§°ï¼š  äºŒå‰æ ‘çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ ã€è¿™é¢˜å¥½éš¾æƒ³ğŸ¤¯ã€‘
é¢˜ç›®ï¼š  ç»™å®šä¸€ä¸ªäºŒå‰æ ‘å’Œå…¶ä¸­çš„ä¸€ä¸ªç»“ç‚¹ï¼Œè¯·æ‰¾å‡ºä¸­åºéå†é¡ºåºçš„ä¸‹ä¸€ä¸ªç»“ç‚¹å¹¶ä¸”è¿”å›ã€‚
        ã€æ³¨æ„ï¼šæ ‘ä¸­çš„ç»“ç‚¹ä¸ä»…åŒ…å«å·¦å³å­ç»“ç‚¹ï¼ŒåŒæ—¶åŒ…å«æŒ‡å‘çˆ¶ç»“ç‚¹çš„æŒ‡é’ˆã€‘
æµ‹è¯•ï¼š  æ™®é€šäºŒå‰æ ‘ï¼ˆå®Œå…¨äºŒå‰æ ‘ ä¸å®Œå…¨äºŒå‰æ ‘ï¼‰
        ç‰¹æ®ŠäºŒå‰æ ‘ï¼ˆæ‰€æœ‰èŠ‚ç‚¹éƒ½æ²¡æœ‰å³å­èŠ‚ç‚¹çš„äºŒå‰æ ‘ï¼›æ‰€æœ‰èŠ‚ç‚¹éƒ½æ²¡æœ‰å·¦å­èŠ‚ç‚¹çš„äºŒå‰æ ‘ï¼›åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„äºŒå‰æ ‘ï¼›äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹æŒ‡é’ˆä¸ºnullptrï¼‰
        ä¸åŒä½ç½®çš„èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸ºå½“å‰èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ã€å³å­æ ‘çš„æœ€å·¦å­èŠ‚ç‚¹ã€çˆ¶èŠ‚ç‚¹ã€è·¨å±‚çš„çˆ¶èŠ‚ç‚¹ç­‰ï¼›å½“å‰èŠ‚ç‚¹æ²¡æœ‰ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼‰
"""

# è§£é¢˜æ€è·¯ï¼šè§ç¨‹åºæ³¨é‡Š

class treeLinkNode:
    def __init__(self, x):
        self.val = x
        self.left = None
        self.right = None
        self.next = None


class Solution():
    def GoNext(self, pNode):
        """
        æ‰¾åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
        è¾“å…¥ï¼š
        - pNodeï¼šå·²çŸ¥èŠ‚ç‚¹
        è¾“å‡ºï¼š
        - pNode.next:   ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
        """
        if not pNode:
            # S1: å¼‚å¸¸å¤„ç†
            return None

        elif not pNode.right:
            # S2: è¯¥èŠ‚ç‚¹æœ‰å³èŠ‚ç‚¹ å³èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹æ˜¯ä¸‹ä¸€èŠ‚ç‚¹
            pNode = pNode.right
            while pNode.left!=None:
                pNode = pNode.left
            return pNode
        elif pNode.next!=None and pNode.next.right==pNode:
            # S3:  æ— å³èŠ‚ç‚¹ -> æƒ…å†µ1:æŸçˆ¶èŠ‚ç‚¹æ˜¯å·¦èŠ‚ç‚¹
            while pNode.next!=None and pNode.next.left!=pNode:
                pNode=pNode.next
            return pNode.next
        else :
            # S4: æ— å³èŠ‚ç‚¹ -> æƒ…å†µ2:æŸçˆ¶èŠ‚ç‚¹æ˜¯å³èŠ‚ç‚¹
            return pNode
        
